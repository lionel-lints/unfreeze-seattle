neighborhoods = [
  ["admiral", "sw", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=admiral,_Seattle&format=json&exintro=1"],
  ["alki", "sw", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=alki_point,_Seattle&format=json&exintro=1"],
  ["arbor_heights", "sw", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=arbor_heights,_Seattle&format=json&exintro=1"],
  ["atlantic", "sw", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=atlantic,_Seattle&format=json&exintro=1"],
  ["ballard", "nw", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=ballard,_Seattle&format=json&exintro=1"],
  ["beacon_hill", "se", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=beacon_hill,_Seattle&format=json&exintro=1"],
  ["belltown", "nw", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=belltown,_Seattle&format=json&exintro=1"],
  ["bitter_lake", "nw", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=bitter_lake,_Seattle&format=json&exintro=1"],
  ["blue_ridge", "nw", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=blue_ridge,_Seattle&format=json&exintro=1"],
  ["brighton", "se", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=brighton,_Seattle&format=json&exintro=1"],
  ["broadmoor", "se", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=broadmoor,_Seattle&format=json&exintro=1"],
  ["broadview", "nw", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=broadview,_Seattle&format=json&exintro=1"],
  ["bryant", "ne", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=bryant,_Seattle&format=json&exintro=1"],
  ["capitol_hill", "se", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=capitol_hill,_Seattle&format=json&exintro=1"],
  ["cedar_park", "ne", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=cedar_park,_Seattle&format=json&exintro=1"],
  ["central_district", "se", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=central_district,_Seattle&format=json&exintro=1"],
  ["columbia_city", "se", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=columbia_city,_Seattle&format=json&exintro=1"],
  ["crown_hill", "nw", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=crown_hill,_Seattle&format=json&exintro=1"],
  ["denny", "se", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=denny_regrade,_Seattle&format=json&exintro=1"],
  ["downtown", "dt", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=downtown_Seattle&format=json&exintro=1"],
  ["eastlake", "se", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=eastlake,_Seattle&format=json&exintro=1"],
  ["fauntleroy", "sw", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=fauntleroy,_Seattle&format=json&exintro=1"],
  ["first_hill", "se", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=first_hill,_Seattle&format=json&exintro=1"],
  ["fremont", "nw", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=fremont,_Seattle&format=json&exintro=1"],
  ["georgetown", "se", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=georgetown,_Seattle&format=json&exintro=1"],
  ["green_lake", "nw", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=green_lake,_Seattle&format=json&exintro=1"],
  ["greenwood", "nw", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=greenwood,_Seattle&format=json&exintro=1"],
  ["haller_lake", "nw", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=haller_lake,_Seattle&format=json&exintro=1"],
  ["hawthorne_hills", "ne", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=hawthorne_hills,_Seattle&format=json&exintro=1"],
  ["high_point", "sw", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=high_point,_Seattle&format=json&exintro=1"],
  ["highland_park", "se", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=highland_park,_Seattle&format=json&exintro=1"],
  ["industrial_district", "se", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=industrial_district,_Seattle&format=json&exintro=1"],
  ["interbay", "nw", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=interbay,_Seattle&format=json&exintro=1"],
  ["international_district", "se", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=international_district,_Seattle&format=json&exintro=1"],
  ["laurelhurst", "ne", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=laurelhurst,_Seattle&format=json&exintro=1"],
  ["leschi", "sw", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=leschi,_Seattle&format=json&exintro=1"],
  ["lower_queen_anne", "nw", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=lower_queen_anne,_Seattle&format=json&exintro=1"],
  ["loyal_heights", "nw", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=loyal_heights,_Seattle&format=json&exintro=1"],
  ["madison_park", "se", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=madison_park,_Seattle&format=json&exintro=1"],
  ["madison_valley", "se", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=madison_valley,_Seattle&format=json&exintro=1"],
  ["madrona", "se", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=madrona,_Seattle&format=json&exintro=1"],
  ["magnolia", "nw", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=magnolia,_Seattle&format=json&exintro=1"],
  ["maple_leaf", "ne", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=maple_leaf,_Seattle&format=json&exintro=1"],
  ["matthews_beach", "ne", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=matthews_beach,_Seattle&format=json&exintro=1"],
  ["meadowbrook", "ne", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=meadowbrook,_Seattle&format=json&exintro=1"],
  ["montlake", "se", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=montlake,_Seattle&format=json&exintro=1"],
  ["mount_baker", "se", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=mount_baker,_Seattle&format=json&exintro=1"],
  ["north_beach", "nw", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=north_beach,_Seattle&format=json&exintro=1"],
  ["north_college_park", "nw", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=licton_springs,_Seattle&format=json&exintro=1"],
  ["north_delridge", "sw", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=north_delridge,_Seattle&format=json&exintro=1"],
  ["northgate", "ne", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=northgate,_Seattle&format=json&exintro=1"],
  ["olympic_hills", "ne", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=olympic_hills,_Seattle&format=json&exintro=1"],
  ["olympic_manor", "nw", nil],
  ["phinney_ridge", "nw", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=phinney_ridge,_Seattle&format=json&exintro=1"],
  ["pinehurst", "ne", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=pinehurst,_Seattle&format=json&exintro=1"],
  ["pioneer_square", "se", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=pioneer_square,_Seattle&format=json&exintro=1"],
  ["portage_bay", "ne", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=portage_bay,_Seattle&format=json&exintro=1"],
  ["queen_anne", "nw", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=queen_anne,_Seattle&format=json&exintro=1"],
  ["rainier_beach", "se", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=rainier_beach,_Seattle&format=json&exintro=1"],
  ["ravenna", "ne", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=ravenna,_Seattle&format=json&exintro=1"],
  ["riverview", "sw", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=riverview,_Seattle&format=json&exintro=1"],
  ["roosevelt", "ne", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=roosevelt,_Seattle&format=json&exintro=1"],
  ["roxhill", "sw", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=roxhill,_Seattle&format=json&exintro=1"],
  ["sand_point", "ne", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=sand_point,_Seattle&format=json&exintro=1"],
  ["seward_park", "se", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=seward_park,_Seattle&format=json&exintro=1"],
  ["south_delridge", "sw", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=south_delridge,_Seattle&format=json&exintro=1"],
  ["south_lake_union", "nw", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=south_lake_union,_Seattle&format=json&exintro=1"],
  ["south_park", "se", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=south_park,_Seattle&format=json&exintro=1"],
  ["sunset_hill", "nw", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=sunset_hill,_Seattle&format=json&exintro=1"],
  ["university_district", "ne", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=university_district,_Seattle&format=json&exintro=1"],
  ["victory_heights", "ne", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=victory_heights,_Seattle&format=json&exintro=1"],
  ["view_ridge", "nw", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=view_ridge,_Seattle&format=json&exintro=1"],
  ["wallingford", "nw", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=wallingford,_Seattle&format=json&exintro=1"],
  ["wedgwood", "ne", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=wedgwood,_Seattle&format=json&exintro=1"],
  ["west_seattle", "sw", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=west_seattle,_Seattle&format=json&exintro=1"],
  ["westlake", "nw", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=westlake,_Seattle&format=json&exintro=1"],
  ["whittier_heights", "nw", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=whittier_heights,_Seattle&format=json&exintro=1"],
  ["windermere", "ne", "https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=windermere,_Seattle&format=json&exintro=1"]
]


neighborhoods.each do |n|
  new_hood = Neighborhood.create(name: n[0], wiki_url: n[2])
  new_hood.polygon_url = '/public/geojson/' + n[0] + '.geojson'

  if n[1] == 'nw'
    square_url = "within_box(location, 47.74448918324826, -122.43232727050781, 47.601579435823446, -122.3127007484436) "
  elsif n[1] == 'ne'
    square_url = "within_box(location, 47.7352538334833, -122.33345031738281, 47.6423475920095, -122.24281311035156) "
  elsif n[1] == 'sw'
    square_url = "within_box(location, 47.608752618414165, -122.42374420166016, 47.49521196622769, -122.32349395751953) "
  elsif n[1] == 'se'
    square_url = "within_box(location, 47.652524500386484, -122.33551025390625, 47.504301372234416, -122.24349975585938) "
  elsif n[1] == 'dt'
    square_url = "within_box(location, 47.62150693350129, -122.35756874084473, 47.590025949215594, -122.32048988342285) "
  end

  new_hood.seattle_url = 'https://data.seattle.gov/resource/82su-5fxf?$where=' + square_url

  new_hood.save

end



neighborhoods.each_index do |i|
  neighborhoods[i] << fixed_wikis[i]
end

puts neighborhoods




get '/:neighborhood', to: 'neighborhoods#show', as


params[:neighborhood]